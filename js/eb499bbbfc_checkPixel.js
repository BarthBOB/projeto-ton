!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.checkPixel=t():e.checkPixel=t()}("undefined"!=typeof window?window:self,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=82)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInWorker=t.windowSnapshot=t.GlobalThis=t.updateWindowSnapshotWhenInWorker=t.checkWindow=void 0;var r=void 0;t.GlobalThis=r;var o=void 0;t.windowSnapshot=o;var i=!1;t.isInWorker=i,"undefined"!=typeof window?(t.GlobalThis=r=window,t.windowSnapshot=o=window):"undefined"!=typeof self&&(t.GlobalThis=r=self,t.isInWorker=i=!0);t.checkWindow=function(e){return"object"==typeof e&&null!==e&&"window"in e&&e===e.window};t.updateWindowSnapshotWhenInWorker=function(e){return!(!i||!(0,t.checkWindow)(e))&&(t.windowSnapshot=o=e,!0)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setLogger=t.BridgeInfoLogger=t.APILogger=t.JSLogger=t.logger=t.JSLoggerServer=void 0;var o=n(14),i=n(7),a=n(2),c=n(4),s=n(0),u=n(3),l=Math.random()<=.01;t.JSLoggerServer=l?new o.HttpLoggerService:void 0;var d=function(e){null===t.JSLoggerServer||void 0===t.JSLoggerServer||t.JSLoggerServer.report(c.API.LOGGER,{name:e.name,extraInfo:e.extra_info})};t.logger=function(e){var t,n={isPixelAD:(0,u.isPixelAD)(),isInWebView:(0,u.isInWebView)(),isPreload:(0,u.getIsPreload)(),_version:a.SDK_VERSION,currentHref:null===s.windowSnapshot||void 0===s.windowSnapshot?void 0:s.windowSnapshot.location.href},o={name:e.name,extra_info:JSON.stringify(r(r({},n),null!==(t=e.extra_info_obj)&&void 0!==t?t:{}))};d(o)};var p=function(){var e,t,n,r,o,i="",a="";try{var c=null===(e=document.currentScript)||void 0===e?void 0:e.src,u=s.GlobalThis,l=null===(n=u[(null===(t=null==c?void 0:c.split("lib=")[1])||void 0===t?void 0:t.split("&")[0])||u.KwaiAnalyticsObject])||void 0===n?void 0:n._i;a=null===(r=Object.keys(null!=l?l:{}))||void 0===r?void 0:r.toString(),i=(null===(o=null==c?void 0:c.split("sdkid=")[1])||void 0===o?void 0:o.split("&")[0])||Object.keys(null!=l?l:{})[0]}catch(e){}return{pixelId:i,pixelIds:a}};t.JSLogger=function(e){var n,o;try{var c=p(),s=c.pixelId,u=c.pixelIds,l=e.error,d=e.additionalMsg,f=void 0===d?"":d,_="",h="";"object"==typeof l?(_=null!==(n=l.stack)&&void 0!==n?n:l.toString(),h=null!==(o=l.message)&&void 0!==o?o:l.toString()):(_=l,h=l),e.additionalMsg&&(h+=",".concat(f),delete e.additionalMsg),(0,t.logger)({name:i.LOGGER_TYPES_NAME.CATCH_JS_ERROR,extra_info_obj:r(r({},e),{pixelId:s,pixelIds:u,error:_,errorMsg:h})}),a.PRODUCTION}catch(_){}};t.APILogger=function(e){var n;if(![c.API.LOGGER].includes(e.apiPath))try{var o=p(),s=o.pixelId,u=o.pixelIds;if(e.response&&"object"!=typeof e.response)try{e.response=JSON.parse(e.response)}catch(e){}(0,t.logger)({name:i.LOGGER_TYPES_NAME.CATCH_API_ERROR,extra_info_obj:r(r({},e),{pixelId:s,pixelIds:u,error:"object"==typeof e.error?null!==(n=e.error.stack)&&void 0!==n?n:e.error.toString():e.error})}),!a.PRODUCTION&&e.error}catch(e){}};t.BridgeInfoLogger=function(e){var n,o;try{(0,t.logger)({name:i.LOGGER_TYPES_NAME.BRIDGE_METRIC,extra_info_obj:r(r({},e),{error:"object"==typeof e.error?null!==(n=e.error.stack)&&void 0!==n?n:e.error.toString():e.error,errorMsg:"object"==typeof e.error?null!==(o=e.error.message)&&void 0!==o?o:e.error.toString():e.error})})}catch(e){}};t.setLogger=function(e){var t=e.api;d=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRODUCTION=t.BROWSER_PREFIXS=t.SDK_VERSION=t.KWAI_SESSION_ID=t.EVENT_NAME_FORMAT=t.EVENT_NAME=t.CSP_CONTENT_BLOCKED_KEY=t.PAGE_VIEW_EVENT_NAME=t.UNKNOWN_EVENT=t.PAGE_ID=t.SESSION_ID=t.KWAI_Q=t.KWAI_Q_STATIC_HOST=t.KWAI_ANALYTICS_OBJECT=t.KWAI_CALLBACK_SOURCE=t.KWAI_CALLBACK_SESSION_KEY=t.KWAI_PIXEL_ID=t.KWAI_CALLBACK=t.KWAI_TEST_ID=void 0,t.KWAI_TEST_ID="ks_px_test",t.KWAI_CALLBACK="click_id",t.KWAI_PIXEL_ID="pixel_id",t.KWAI_CALLBACK_SESSION_KEY="kwai_adInfo",t.KWAI_CALLBACK_SOURCE="kwai_adInfo_source",t.KWAI_ANALYTICS_OBJECT="KwaiAnalyticsObject",t.KWAI_Q_STATIC_HOST="kwaiqStaticHost",t.KWAI_Q="kwaiq",t.SESSION_ID="sessionId",t.PAGE_ID="pageId",t.UNKNOWN_EVENT="UNKNOWN",t.PAGE_VIEW_EVENT_NAME="pageView",t.CSP_CONTENT_BLOCKED_KEY="_k_cspcb",t.EVENT_NAME={pageView:"EVENT_PAGE_VIEW",pageLeave:"EVENT_PAGE_LEAVE",addPaymentInfo:"EVENT_ADD_PAYMENT_INFO",addToCart:"EVENT_ADD_TO_CART",buttonClick:"EVENT_BUTTON_CLICK",purchase:"EVENT_PURCHASE",contentView:"EVENT_CONTENT_VIEW",download:"EVENT_DOWNLOAD",formSubmit:"EVENT_FORM_SUBMIT",initiatedCheckout:"EVENT_INITIATED_CHECKOUT",contact:"EVENT_CONTACT",placeOrder:"EVENT_PLACE_ORDER",search:"EVENT_SEARCH",completeRegistration:"EVENT_COMPLETE_REGISTRATION",addToWishlist:"EVENT_ADD_TO_WISHLIST",subscribe:"EVENT_SUBSCRIBE",firstDeposit:"EVENT_FIRST_DEPOSIT",creditApproval:"EVENT_CREDIT_APPROVAL",loanApplication:"EVENT_LOAN_APPLICATION",loanCredit:"EVENT_LOAN_CREDIT",loanDisbursal:"EVENT_LOAN_DISBURSAL",creditCardApplication:"EVENT_CREDIT_CARD_APPLICATION",valueProduce:"EVENT_VALUE_PRODUCE",registration24hPurchase:"EVENT_REGISTRATION_24H_PURCHASE",adView:"EVENT_AD_VIEW",adClick:"EVENT_AD_CLICK",keyInappEvent:"EVENT_KEY_INAPP_EVENT",keyInappEvent1:"EVENT_KEY_INAPP_EVENT_1",keyInappEvent2:"EVENT_KEY_INAPP_EVENT_2",keyInappEvent3:"EVENT_KEY_INAPP_EVENT_3",pwaPageView:"EVENT_PWA_PAGE_VIEW",pwaSubscribe:"EVENT_PWA_SUBSCRIBE",pwaInstallClick:"EVENT_PWA_INSTALL_CLICK",pwaInstall:"EVENT_PWA_INSTALL",pwaInstallCancel:"EVENT_PWA_INSTALL_CANCEL",pwaOpen:"EVENT_PWA_OPEN",put:"EVENT_PUT",share:"EVENT_SHARE",withdraw:"EVENT_WITHDRAW",purchase1Day:"EVENT_PURCHASE_1_DAY",purchase2Day:"EVENT_PURCHASE_2_DAY",purchase3Day:"EVENT_PURCHASE_3_DAY",purchase7Day:"EVENT_PURCHASE_7_DAY"},t.EVENT_NAME_FORMAT={EVENT_PAGE_VIEW:"pageView",EVENT_PAGE_LEAVE:"pageLeave",EVENT_ADD_PAYMENT_INFO:"addPaymentInfo",EVENT_ADD_TO_CART:"addToCart",EVENT_BUTTON_CLICK:"buttonClick",EVENT_PURCHASE:"purchase",EVENT_CONTENT_VIEW:"contentView",EVENT_DOWNLOAD:"download",EVENT_FORM_SUBMIT:"formSubmit",EVENT_INITIATED_CHECKOUT:"initiatedCheckout",EVENT_CONTACT:"contact",EVENT_PLACE_ORDER:"placeOrder",EVENT_SEARCH:"search",EVENT_SERACH:"search",EVENT_COMPLETE_REGISTRATION:"completeRegistration",EVENT_ADD_TO_WISHLIST:"addToWishlist",EVENT_SUBSCRIBE:"subscribe",EVENT_FIRST_DEPOSIT:"firstDeposit",EVENT_CREDIT_APPROVAL:"creditApproval",EVENT_LOAN_APPLICATION:"loanApplication",EVENT_LOAN_CREDIT:"loanCredit",EVENT_LOAN_DISBURSAL:"loanDisbursal",EVENT_CREDIT_CARD_APPLICATION:"creditCardApplication",EVENT_VALUE_PRODUCE:"valueProduce",EVENT_REGISTRATION_24H_PURCHASE:"registration24hPurchase",EVENT_AD_VIEW:"adView",EVENT_AD_CLICK:"adClick",EVENT_KEY_INAPP_EVENT:"keyInappEvent",EVENT_KEY_INAPP_EVENT_1:"keyInappEvent1",EVENT_KEY_INAPP_EVENT_2:"keyInappEvent2",EVENT_KEY_INAPP_EVENT_3:"keyInappEvent3",EVENT_PWA_PAGE_VIEW:"pwaPageView",EVENT_PWA_SUBSCRIBE:"pwaSubscribe",EVENT_PWA_INSTALL_CLICK:"pwaInstallClick",EVENT_PWA_INSTALL:"pwaInstall",EVENT_PWA_INSTALL_CANCEL:"pwaInstallCancel",EVENT_PWA_OPEN:"pwaOpen",EVENT_PUT:"put",EVENT_SHARE:"share",EVENT_WITHDRAW:"withdraw",EVENT_PURCHASE_1_DAY:"purchase1Day",EVENT_PURCHASE_2_DAY:"purchase2Day",EVENT_PURCHASE_3_DAY:"purchase3Day",EVENT_PURCHASE_7_DAY:"purchase7Day"},t.KWAI_SESSION_ID="kwai_session_id",t.SDK_VERSION="2.11.2",t.BROWSER_PREFIXS=["","webkit","WebKit","moz","Moz","ms","MS","o","O"],t.PRODUCTION=!0},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.toHump=t.writeVal=t.readVal=t.setCookieByName=t.getCookieByKey=t.getRandom=t.getValFromCookieByName=t.getDomain=void 0;var i=n(25);Object.defineProperty(t,"getDomain",{enumerable:!0,get:function(){return i.getDomain}});var a=n(21);Object.defineProperty(t,"getValFromCookieByName",{enumerable:!0,get:function(){return a.getValFromCookieByName}});var c=n(27);Object.defineProperty(t,"getRandom",{enumerable:!0,get:function(){return c.getRandom}});var s=n(8);Object.defineProperty(t,"getCookieByKey",{enumerable:!0,get:function(){return s.getCookieByKey}}),Object.defineProperty(t,"setCookieByName",{enumerable:!0,get:function(){return s.setCookieByName}}),Object.defineProperty(t,"readVal",{enumerable:!0,get:function(){return s.readVal}}),Object.defineProperty(t,"writeVal",{enumerable:!0,get:function(){return s.writeVal}});var u=n(28);Object.defineProperty(t,"toHump",{enumerable:!0,get:function(){return u.toHump}}),o(n(15),t),o(n(16),t),o(n(11),t),o(n(5),t),o(n(29),t),o(n(17),t),o(n(18),t),o(n(19),t)},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LOGGER_API=t.API=t.REPORT_TYPE=void 0;var o,i=n(10).apiDomainPicker.getApiDomain();!function(e){e.TRACK="track",e.TRACK_NON_ATTRIBUTION="track_non_attribution",e.TEST_TRACK="test_track",e.TRACK_DATA="track_data",e.TRACK_ENHANCE_LOG="track_enhance_log",e.CHECK_PIXEL_COMPRESS="check_pixel_compress",e.CHECK_PIXEL="check_pixel"}(o=t.REPORT_TYPE||(t.REPORT_TYPE={}));t.API=((r={})[o.TRACK]="".concat(i,"/log/common"),r[o.TRACK_NON_ATTRIBUTION]="".concat(i,"/log/common/co/api"),r[o.TEST_TRACK]="",r[o.TRACK_DATA]="".concat(i,"/log/common/web/landingPage/data"),r.GET_PIXEL="".concat(i,"/rest/n/adintl/ad/getPixelConfig"),r.PREVIEW_REPORT="".concat("https://ads.kwai.com","/rest/i18n/adDsp/pixel/createErrorEvent"),r[o.TRACK_ENHANCE_LOG]="".concat(i,"/log/common/data"),r[o.CHECK_PIXEL_COMPRESS]="".concat(i,"/rest/n/adintl/ad/checkPixelCompress"),r[o.CHECK_PIXEL]="".concat(i,"/rest/n/adintl/ad/checkPixel"),r.LOGGER="".concat(i,"/rest/n/adintl/ad/pixelLog"),r.GOOGLE_GAID_COLLECT="https://cm.g.doubleclick.net/pixel?google_nid=joyo_tecnologia_brasil_ltda&google_cm",r),t.LOGGER_API=t.API.LOGGER},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPixelOptionsFromWorkspace=t.getPixelIdsFromWorkspace=t.setPixelCacheIfNotInit=t.setWorkSpaceCacheIfNotInit=t.getWorkspace=t.getWorkspaceName=void 0;var o=n(0),i=n(2);t.getWorkspaceName=function(){return"object"==typeof o.GlobalThis&&o.GlobalThis[i.KWAI_ANALYTICS_OBJECT]||i.KWAI_Q};t.getWorkspace=function(){return"object"==typeof o.GlobalThis&&o.GlobalThis[(0,t.getWorkspaceName)()]};t.setWorkSpaceCacheIfNotInit=function(e,n){var o=(0,t.getWorkspace)(),i=o._i;Object.entries(i).forEach((function(t){!0!==t[1]._init&&o.push(r([e],n,!0))}))};t.setPixelCacheIfNotInit=function(e,n,r){var o=(0,t.getWorkspace)()._i,i=o[e]||[];i._init||(i.push(["track",n,r]),o[e]=i)};t.getPixelIdsFromWorkspace=function(){var e=(0,t.getWorkspace)(),n=(null!=e?e:{})._i;return Object.keys(null!=n?n:{})};t.getPixelOptionsFromWorkspace=function(e){var n,r;return null!==(r=null===(n=(0,t.getWorkspace)()._o)||void 0===n?void 0:n[e])&&void 0!==r?r:{}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(30),t),o(n(7),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageLoggerName=t.CostInfoType=t.ActionStatus=t.LOGGER_TYPES_NAME=void 0,function(e){e.successConfig="successConfig",e.errConfig="errConfig",e.errBefroeSetBridge="errBefroeSetBridge",e.successSetBridge="successSetBridge",e.errSetBridge="errSetBridge",e.successBridge="successBridge",e.errBridge="errBridge",e.errBridgeForUnPixel="errBridgeForNotPixelAd",e.errMatchPixelId="errMatchPixelId",e.errPixelId="errPixelId",e.errPixelIdNotExist="errPixelIdNotExist",e.errClickId="errClickId",e.errUp="errUp",e.errMatchAccessMode="errMatchAccessMode",e.successUp="successUp",e.successUpForOther="successUpForOther",e.wAndc="windowAndcookie",e.GET_URL_BY_IMAGE="GET_URL_BY_IMAGE",e.previewErrUp="previewErrUp",e.previewSuccessUp="previewSuccessUp",e.GET_AD_INFO_COUNT="GET_AD_INFO_COUNT",e.GET_AD_INFO_FROM_SESSION="GET_AD_INFO_FROM_SESSION",e.GET_AD_INFO_FROM_COOKIE="GET_AD_INFO_FROM_COOKIE",e.GET_AD_INFO_FROM_URL="GET_AD_INFO_FROM_URL",e.GET_AD_INFO_FROM_BRIDGE="GET_AD_INFO_FROM_BRIDGE",e.I18N_AD_COST_LOG="I18N_AD_COST_LOG",e.CATCH_JS_ERROR="CATCH_JS_ERROR",e.CATCH_API_ERROR="CATCH_API_ERROR",e.BRIDGE_METRIC="BRIDGE_METRIC"}(t.LOGGER_TYPES_NAME||(t.LOGGER_TYPES_NAME={})),function(e){e.SUCCESS="SUCCESS",e.ERROR="ERROR",e.NOT_VALID_API_RETURNS="NOT_VALID_API_RETURNS",e.RETRY="RETRY"}(t.ActionStatus||(t.ActionStatus={})),function(e){e.BridgeYodaV2="BridgeYodaV2",e.interfaceRetry="interfaceRetry",e.nonAttribute="nonAttribute"}(t.CostInfoType||(t.CostInfoType={})),function(e){e.GET_GID_BY_DOUBLE_CLICK="GET_GID_BY_DOUBLE_CLICK",e.GET_GID_BY_DOUBLE_CLICK_CSP_ERROR="GET_GID_BY_DOUBLE_CLICK_CSP_ERROR"}(t.ImageLoggerName||(t.ImageLoggerName={}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.readValFromStorage=t.readVal=t.writeVal=t.setCookieByName=t.getCookieByKey=void 0;var i=n(0),a=n(3),c=n(12),s=n(1);t.getCookieByKey=function(e){var t=e.key;return r(void 0,void 0,void 0,(function(){var e,n,r,i,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,c.getCookie)()];case 1:for(e=o.sent(),n=e.split("; "),r=0;r<n.length;r++)if((i=n[r].split("="))[0]==t)return[2,decodeURIComponent(i[1])];return[3,3];case 2:return a=o.sent(),(0,s.JSLogger)({error:a,funcName:"getCookieByKey"}),[3,3];case 3:return[2]}}))}))};t.setCookieByName=function(e){var t=e.name,n=e.value,u=e.seconds;return r(void 0,void 0,void 0,(function(){var e,r,l,d,p;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),(0,a.getIsPreload)(null===i.windowSnapshot||void 0===i.windowSnapshot?void 0:i.windowSnapshot.location.href)?[2]:(e="",0!=(u=u||0)&&((r=new Date).setTime(r.getTime()+1e3*u),e="; expires="+r.toUTCString()),l=(0,a.getDomain)(),d=t+"="+escape(n)+e+"; path=/; domain="+l,[4,(0,c.setCookie)({value:d})]);case 1:return o.sent(),[3,3];case 2:return p=o.sent(),(0,s.JSLogger)({error:p,funcName:"setCookieByName"}),[3,3];case 3:return[2]}}))}))};t.writeVal=function(e){var n=e.key,c=e.val;return r(void 0,void 0,void 0,(function(){var e,r;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),(0,a.getIsPreload)(null===i.windowSnapshot||void 0===i.windowSnapshot?void 0:i.windowSnapshot.location.href)?[2]:(e=JSON.stringify(c),"kwai_adInfo"!==n?[3,2]:[4,(0,t.setCookieByName)({name:n,value:e,seconds:1800})]);case 1:o.sent(),o.label=2;case 2:return(null===i.GlobalThis||void 0===i.GlobalThis?void 0:i.GlobalThis.sessionStorage)&&i.GlobalThis.sessionStorage.setItem(n,e),[3,4];case 3:throw r=o.sent(),(0,s.JSLogger)({error:r,funcName:"writeVal"}),r;case 4:return[2]}}))}))};t.readVal=function(e){var n=e.key;return r(void 0,void 0,void 0,(function(){var e,r,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,(0,t.getCookieByKey)({key:n})];case 1:return e=o.sent(),(null===i.GlobalThis||void 0===i.GlobalThis?void 0:i.GlobalThis.sessionStorage)?[4,i.GlobalThis.sessionStorage.getItem(n)]:[3,3];case 2:return[2,(r=o.sent())?JSON.parse(r):e?JSON.parse(e):void 0];case 3:return[2,e?JSON.parse(e):void 0];case 4:throw a=o.sent(),(0,s.JSLogger)({error:a,funcName:"readVal"}),a;case 5:return[2]}}))}))};t.readValFromStorage=function(e){var t=e.key;return r(void 0,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),(null===i.GlobalThis||void 0===i.GlobalThis?void 0:i.GlobalThis.sessionStorage)?[4,i.GlobalThis.sessionStorage.getItem(t)]:[3,2];case 1:return[2,n.sent()||void 0];case 2:return[3,4];case 3:return e=n.sent(),(0,s.JSLogger)({error:e,funcName:"readValFromStorage"}),[3,4];case 4:return[2]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.xhrService=void 0;var o=n(1),i=n(7),a=n(10),c=n(22),s=n(4),u=function(){var e=this;this.curXhrInstance=null,this.curReject=null,this.catchBy="",this.curRetry=0,this.retryConfig={retry:0,retryDelay:1e3,requestParams:{method:"",url:"",async:!0,headers:{},data:""}},this.postCustom=function(t,n,r){var o;return e.post(t,(0,c.formatter)(n,c.SendMethod.XHR,null!==(o=null==r?void 0:r.async)&&void 0!==o&&o),r)},this.post=function(t,n,i){var a=null!=i?i:{},c=a.contentType,u=void 0===c?"application/json":c,l=a.timeout,d=void 0===l?3e3:l,p=a.async,f=void 0!==p&&p,_=a.retry,h=void 0===_?0:_,E=a.retryDelay,v=void 0===E?1e3:E;return new Promise((function(i,a){e.curReject=a;var c=e.curXhrInstance=new XMLHttpRequest;try{e.curRetry=0;var l=JSON.stringify(n);e.retryConfig={retry:h,retryDelay:v,requestParams:{method:"POST",url:t,async:!0,headers:{"content-type":u},data:l}},c.open("POST",t,f),c.setRequestHeader("content-type",u),c.onload=function(){var n;if(c.status>=200&&c.status<300){var a=c.response;if("string"==typeof a)try{a=JSON.parse(a)}catch(e){t!==s.API.LOGGER&&(0,o.JSLogger)({error:e,additionalMsg:"requestUrl: ".concat(t,", response: ").concat(a),funcName:"xhr.post.onload.parse"})}i(r(r({},a),{retryTimes:e.curRetry,xhrResponseUrl:null!==(n=c.responseURL)&&void 0!==n?n:""}))}else c.status>=400?e.handleReject(String(c.status),!0):(e.catchBy="status",e.handleReject())},c.onerror=function(){e.catchBy="onerror",e.handleReject()},f&&(c.timeout=d,c.ontimeout=function(){e.catchBy="ontimeout",e.handleReject()}),c.withCredentials=!0,c.send(l)}catch(t){e.xhrTryCatchErrorHandler(t)}}))},this.get=function(t,n){return new Promise((function(o,i){e.curReject=i;var a=null!=n?n:{},c=a.retry,s=void 0===c?0:c,u=a.retryDelay,l=void 0===u?1e3:u,d=e.curXhrInstance=new XMLHttpRequest;try{e.curRetry=0,e.retryConfig={retry:s,retryDelay:l,requestParams:{method:"GET",url:t,async:!0,headers:{},data:""}},d.responseType="json",d.open("GET",t),d.onload=function(){var t;d.status>=200&&d.status<300?o(r(r({},d.response),{retryTimes:e.curRetry,xhrResponseUrl:null!==(t=d.responseURL)&&void 0!==t?t:""})):d.status>=400?e.handleReject(String(d.status),!0):(e.catchBy="status",e.handleReject())},d.onerror=function(){e.catchBy="onerror",e.handleReject()},d.withCredentials=!0,d.send()}catch(t){e.xhrTryCatchErrorHandler(t)}}))},this.xhrTryCatchErrorHandler=function(t){e.catchBy="tryCatch",t&&t instanceof Error?e.handleReject(t.message):"string"==typeof t?e.handleReject(t):e.handleReject()},this.handleReject=function(t,n){var r,c,s,u,l,d,p;void 0===n&&(n=!1);var f=e,_=f.curRetry,h=f.retryConfig,E=f.curXhrInstance;if(_<h.retry&&E&&!n)e.curRetry++,setTimeout((function(){try{var t=h.requestParams;E.abort();var n=a.apiDomainPicker.getBackupDomainApi(t.url);for(var r in E.open(t.method,n,t.async),t.headers)E.setRequestHeader(r,t.headers[r]);E.send(t.data)}catch(t){e.xhrTryCatchErrorHandler(t)}}),h.retryDelay);else{var v=null!==(c=null===(r=e.curXhrInstance)||void 0===r?void 0:r.statusText)&&void 0!==c?c:"",g=null!==(u=null===(s=e.curXhrInstance)||void 0===s?void 0:s.status)&&void 0!==u?u:-1;null===(l=e.curReject)||void 0===l||l.call(e,v),(0,o.APILogger)({apiPath:h.requestParams.url,actionStatus:i.ActionStatus.ERROR,error:"status:".concat(g,",statusText:").concat(v,",retryTimes:").concat(_,",catchBy:").concat(e.catchBy).concat(t?",".concat(t):""),responseUrl:null!==(p=null===(d=e.curXhrInstance)||void 0===d?void 0:d.responseURL)&&void 0!==p?p:""})}}};t.xhrService=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiDomainPicker=void 0;var r=n(5),o=n(2),i={set:function(e,t,n){if(!document||!document.cookie)return!1;var r="",o=[],a="",c=location.host,s=null;if(0!=(n=n||0)){var u=new Date;u.setTime(u.getTime()+1e3*n),a="; expires="+u.toUTCString()}return 1===(c=location.host).split(".").length?document.cookie=e+"="+t+a+"; path=/":((o=c.split(".")).shift(),r="."+o.join("."),document.cookie=e+"="+t+a+"; path=/; domain="+r,null!=(s=i.get(e))&&s==t||(r="."+c,document.cookie=e+"="+t+a+"; path=/; domain="+r,s=i.get(e))),!(null==s||s!=t)},get:function(e){if(!document||!document.cookie)return null;for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null},erase:function(e){i.set(e,"",-1)}},a=new function(){var e=this;this.requestStartTime=+new Date,this.getApiDomain=function(){return e.isCspBlocked?"https://api.mythad.com":"https://ads.mythad.com"},this.getBackupDomainApi=function(t){return"https://ads.mythad.com"===e.getApiDomain()?t.replace("https://ads.mythad.com","https://ads.funmora.com"):t.replace("https://api.mythad.com","https://api.adaether.com")},this.setRequestStartTime=function(t){e.requestStartTime=t},this.getCspBlocked=function(){var e=(0,r.getWorkspace)(),t=null==e?void 0:e[o.CSP_CONTENT_BLOCKED_KEY],n=i.get(o.CSP_CONTENT_BLOCKED_KEY);return t||n||""},this.writeCSPBlockStatus=function(t){var n=(0,r.getWorkspace)();n&&(n[o.CSP_CONTENT_BLOCKED_KEY]=t),i.set(o.CSP_CONTENT_BLOCKED_KEY,t,86400),e.isCspBlocked=!0},this.cspBlockInfo=this.getCspBlocked(),this.isCspBlocked=!!this.cspBlockInfo,"undefined"!=typeof document&&document.addEventListener("securitypolicyviolation",(function(t){var n=+new Date-e.requestStartTime;t.blockedURI.includes("https://ads.mythad.com")&&"enforce"===t.disposition&&e.writeCSPBlockStatus("".concat(t.blockedURI.slice(t.blockedURI.lastIndexOf("/")+1),",").concat(n.toString()))}))};t.apiDomainPicker=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayMode=t.getCurrentScriptHost=t.isPixelAD=t.isInWebView=t.getDeviceType=t.getUAInfo=t.DeviceType=void 0;var r,o=n(0);!function(e){e.WindowsPhone="WindowsPhone",e.Android="Android",e.IOS="IOS",e.PC="PC"}(r=t.DeviceType||(t.DeviceType={}));t.getUAInfo=function(){var e;return(null===(e=null===o.windowSnapshot||void 0===o.windowSnapshot?void 0:o.windowSnapshot.navigator)||void 0===e?void 0:e.userAgent)||""};t.getDeviceType=function(){var e=(0,t.getUAInfo)(),n=r.PC;return/windows phone/i.test(e)?n=r.WindowsPhone:/android/i.test(e)?n=r.Android:/iPad|iPhone|iPod/.test(e)&&(n=r.IOS),n};t.isInWebView=function(){var e=(0,t.getUAInfo)();return/kwai/i.test(e)};t.isPixelAD=function(){var e=(0,t.getUAInfo)();return/kwaiPixelAd/i.test(e)};t.getCurrentScriptHost=function(){var e="";try{var t=(null!==o.windowSnapshot&&void 0!==o.windowSnapshot?o.windowSnapshot:{}).document,n=(null==t?void 0:t.currentScript)instanceof HTMLScriptElement?null==t?void 0:t.currentScript.src:"";e=new URL(n).hostname}catch(e){}return e};t.getDisplayMode=function(){var e="browser";try{(null===o.windowSnapshot||void 0===o.windowSnapshot?void 0:o.windowSnapshot.matchMedia("(display-mode: fullscreen)").matches)&&(e="fullscreen"),(null===o.windowSnapshot||void 0===o.windowSnapshot?void 0:o.windowSnapshot.matchMedia("(display-mode: standalone)").matches)&&(e="standalone"),(null===o.windowSnapshot||void 0===o.windowSnapshot?void 0:o.windowSnapshot.matchMedia("(display-mode: minimal-ui)").matches)&&(e="minimal-ui")}catch(e){}return e}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.setCookie=t.getCookie=void 0;var i=n(0),a=n(1);t.getCookie=function(){return r(void 0,void 0,void 0,(function(){var e,t,n,r,c;return o(this,(function(o){switch(o.label){case 0:e="",o.label=1;case 1:return o.trys.push([1,4,,5]),i.GlobalThis&&"cookie"in i.GlobalThis&&"function"==typeof i.GlobalThis.cookie.get?[4,i.GlobalThis.cookie.get()]:[3,3];case 2:e=o.sent(),o.label=3;case 3:return!e&&(null===(n=null===i.windowSnapshot||void 0===i.windowSnapshot?void 0:i.windowSnapshot.document)||void 0===n?void 0:n.cookie)&&(e=null!==(c=null===(r=null===i.windowSnapshot||void 0===i.windowSnapshot?void 0:i.windowSnapshot.document)||void 0===r?void 0:r.cookie)&&void 0!==c?c:""),[3,5];case 4:return t=o.sent(),(0,a.JSLogger)({error:t}),[3,5];case 5:return[2,e]}}))}))};t.setCookie=function(e){var t=e.value;return r(void 0,void 0,void 0,(function(){var e,n,r;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),i.GlobalThis&&"cookie"in i.GlobalThis&&"function"==typeof i.GlobalThis.cookie.set?(e=t.replace(/domain=.+/,""),[4,i.GlobalThis.cookie.set(t)]):[3,3];case 1:return o.sent(),[4,null===i.GlobalThis||void 0===i.GlobalThis?void 0:i.GlobalThis.cookie.set(e)];case 2:o.sent(),o.label=3;case 3:return(null===(r=null===i.windowSnapshot||void 0===i.windowSnapshot?void 0:i.windowSnapshot.document)||void 0===r?void 0:r.cookie)&&(i.windowSnapshot.document.cookie=t),[3,5];case 4:return n=o.sent(),(0,a.JSLogger)({error:n}),[3,5];case 5:return[2]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plugin=void 0;var r=function(){function e(e){this.context=e}return e.prototype.pageDidLoad=function(){},e.prototype.pageUrlWillChange=function(e,t){},e.prototype.pageUrlDidChange=function(e){},e.prototype.pageWillLeave=function(e,t){},e.prototype.visibilityChange=function(e,t){},e.prototype.pixelCreateStart=function(e){},e.prototype.pixelCreateEnd=function(e){},e.prototype.pixelDidMount=function(e){},e.prototype.allPixelLoaded=function(){},e.prototype.initStart=function(){},e.prototype.initEnd=function(){},e.prototype.adInfoInitStart=function(){},e.prototype.adInfoInitEnd=function(){},e.prototype.contextInitStart=function(e){},e.prototype.contextInitEnd=function(){},e.prototype.logFMP=function(e){},e.prototype.pluginInitStart=function(e){},e.prototype.pluginInitEnd=function(e){},e}();t.Plugin=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpLoggerService=void 0;var i=n(9),a=function(){var e=this;this.xhrService=i.xhrService,this.report=function(t,n){e.xhrService.post(t,n,{async:!0,retry:2}).then((function(t){return r(e,void 0,void 0,(function(){var e;return o(this,(function(n){return e=t,"object"!=typeof t&&(e=JSON.parse(t)),e.status,e.message,[2]}))}))})).catch((function(e){}))}};t.HttpLoggerService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsPreload=t.PreloadUAIdentifier=void 0;var r=n(0);t.PreloadUAIdentifier="kwai_type/preload";t.getIsPreload=function(e){var n;return(null!==(n=null===r.windowSnapshot||void 0===r.windowSnapshot?void 0:r.windowSnapshot.navigator.userAgent)&&void 0!==n?n:"").indexOf(t.PreloadUAIdentifier)>-1||"string"==typeof e&&(e.indexOf("type=preload")>-1||e.indexOf("kwai_type=preload")>-1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryStringWithIframeCheck=t.getQueryString=void 0;var r=n(0),o=n(17),i=n(1);t.getQueryString=function(e,t,n){var r="";try{var o=new URL(null!=t?t:"");if(o.searchParams.has(e))r=o.searchParams.get(e)||"";else if(o.hash)if(o.hash.includes("?")){var a=o.hash.slice(o.hash.indexOf("?"));(c=new URLSearchParams(a)).has(e)&&(r=c.get(e)||"")}else{var c;(c=new URLSearchParams(o.hash.slice(1))).has(e)&&(r=c.get(e)||"")}}catch(e){(0,i.JSLogger)({error:e}),null==n||n(e)}return r?decodeURIComponent(r):""};t.getQueryStringWithIframeCheck=function(e,n,i){var a,c=(0,t.getQueryString)(e,n,i);if(!c&&(0,o.isInIframe)())try{c=(0,t.getQueryString)(e,null===(a=null===r.windowSnapshot||void 0===r.windowSnapshot?void 0:r.windowSnapshot.top)||void 0===a?void 0:a.location.href,i)}catch(e){}return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInIframe=void 0;var r=n(0);t.isInIframe=function(){return(0,r.checkWindow)(r.GlobalThis)&&r.GlobalThis.self!==r.GlobalThis.top}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSuffixIfExist=t.isObject=void 0;t.isObject=function(e){return"object"==typeof e&&null!==e};t.addSuffixIfExist=function(e,t,n){return void 0===n&&(n="-"),t?"".concat(e).concat(n).concat(t):e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=void 0;var o=n(0),i=r(n(20));function a(e,t){return new Promise((function(n,r){if("undefined"!=typeof importScripts)try{importScripts(e),n()}catch(e){t&&a(t).then(n).catch(r)}}))}t.loadScript=function(e){var t=e.src,n=e.pixelId,r=e.keyName,c=e.backupSrc,s=o.GlobalThis,u="?sdkid=".concat(n,"&lib=").concat(r),l="".concat(t).concat(u),d=c?"".concat(c).concat(u):"";return new Promise((function(e,t){s&&("DedicatedWorkerGlobalScope"===s.constructor.name||void 0!==s.DedicatedWorkerGlobalScope&&s instanceof s.DedicatedWorkerGlobalScope)?a(l,d).then(e).catch(t):(0,i.default)(l,d).then(e).catch(t)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e,t){return new Promise((function(n,i){var a;if(r.windowSnapshot){var c=r.windowSnapshot.document.createElement("script");c.type="text/javascript",c.async=!0,c.src=e,c.onerror=t?function(){o(t).then(n).catch(i)}:function(){i()},c.onload=function(){n()};var s=r.windowSnapshot.document.getElementsByTagName("script")[0];null===(a=null==s?void 0:s.parentNode)||void 0===a||a.insertBefore(c,s)}else i()}))};t.default=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getValFromCookieByName=void 0;var i=n(1),a=n(12);t.getValFromCookieByName=function(e){var t=e.name;return r(void 0,void 0,void 0,(function(){var e,n,r,c,s,u;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,a.getCookie)()];case 1:return e=o.sent(),t&&e.length>0&&-1!==(n=e.indexOf(t+"="))?(r=n+t.length+1,c=e.indexOf(";",r),s="",s=-1===c?e.substring(r):e.substring(r,c),[2,decodeURIComponent(s)]):[3,3];case 2:return u=o.sent(),(0,i.JSLogger)({error:u}),[3,3];case 3:return[2,""]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.formatter=t.SendMethod=void 0;var o,i=n(2);!function(e){e[e.XHR=1]="XHR",e[e.BEACON=2]="BEACON"}(o=t.SendMethod||(t.SendMethod={}));t.formatter=function(e,t,n){void 0===t&&(t=o.XHR),void 0===n&&(n=!1);var a=e.eventName,c=void 0===a?"":a,s=e.context,u=void 0===s?{}:s,l=e.params,d=void 0===l?{}:l,p=u.ad,f=void 0===p?{}:p,_=u.pixel,h=void 0===_?{}:_,E=u.libVersion,v=void 0===E?"":E,g=u.sessionId,y=void 0===g?"":g,S=u.trackFlag,I=void 0!==S&&S;return{clickid:f.callback||"",event_name:i.EVENT_NAME[c]||i.UNKNOWN_EVENT,is_attributed:0,mmpcode:"PL",pixelId:h.code||"",pixelSdkVersion:v,testFlag:!i.PRODUCTION,trackFlag:I,pixelExtData:JSON.stringify(r(r({},d),{pixelIds:h.codes||"",sessionId:y,sendMethod:t,sendWithXhrAsync:t!==o.XHR||n}))}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomain=void 0;var r=n(0),o=n(26);t.getDomain=function(e){e||(e=(null===r.windowSnapshot||void 0===r.windowSnapshot?void 0:r.windowSnapshot.location.hostname)||"");var t=e.split("."),n=t.length,i=t[n-1],a=Number.parseInt(i);if(2==n)return"."+e;if(!isNaN(a))return e;for(var c=[];t.length;){var s=t.pop();if(!s)break;if(c.unshift(s),-1===o.DOMAINS.indexOf(s))break}return"."+c.join(".")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOMAINS=void 0,t.DOMAINS=["ac","ad","ae","af","ag","ai","al","am","ao","aq","ar","as","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bw","by","bz","ca","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cu","cv","cw","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gd","ge","gf","gg","gh","gi","gl","gm","gn","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","io","iq","ir","is","it","je","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mk","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sk","sl","sm","sn","so","sr","ss","st","su","sv","sx","sy","sz","tc","td","tf","tg","th","tj","tk","tl","tm","tn","to","tr","tt","tv","tw","tz","ua","ug","uk","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yt","za","zm","zw","bar","bible","biz","church","club","college","com","design","dev","download","eco","eus","google","green","hiv","icu","info","kaufen","kiwi","lat","lgbt","moe","name","net","ninja","ngo","one","ong","ooo","org","top","pro","wiki","wtf","xyz","app","aero","asia","cat","coop","edu","gov","int","jobs","mil","mobi","museum","post","tel","travel","xxx","africa","alsace","amsterdam","bcn","berlin","brussels","bzh","cymru","eu","eus","frl","gal","gent","irish","ist ","istanbul","kiwi","krd","lat","london","melbourne","miami","nyc","paris","quebec","rio","saarland","scot","sydney","taipei","tokyo","vegas","vlaanderen","wales","wien","arpa","nato","example","invalid","localhost","test","onion","bit","bitnet","csnet","exit","local","onion","root","uucp","chn","africa","bcn","wales","bzh","cym","cymru","eng","lli","sic","wales","geo","mail","web","free","kid","kids","music","bl ","bq ","eh ","mf","bv ","gb ","sj","an ","bu ","cs ","dd ","tp ","um ","yu ","zr","bet","fun"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandom=void 0;t.getRandom=function(e){return"".concat(e,"-").concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toHump=void 0;t.toHump=function(e){return e.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getTrackFlag=void 0;var i=n(0),a=n(2),c=n(3),s=n(8),u=n(16),l=n(1);t.getTrackFlag=function(){return r(void 0,void 0,void 0,(function(){var e,t,n,r,d,p;return o(this,(function(o){switch(o.label){case 0:if(o.trys.push([0,6,,7]),!i.windowSnapshot)return[2,!1];if(e=(0,u.getQueryString)(a.KWAI_TEST_ID,null===i.windowSnapshot||void 0===i.windowSnapshot?void 0:i.windowSnapshot.location.href)||i.windowSnapshot.document.referrer&&(0,u.getQueryString)(a.KWAI_TEST_ID,i.windowSnapshot.document.referrer),(0,c.isInIframe)()&&!e)try{e=(0,u.getQueryString)(a.KWAI_TEST_ID,null===(p=i.windowSnapshot.top)||void 0===p?void 0:p.location.href)}catch(e){}return[4,(0,c.readVal)({key:a.KWAI_TEST_ID})];case 1:return t=o.sent(),(r=t)?[3,3]:[4,(0,c.getValFromCookieByName)({name:a.KWAI_TEST_ID})];case 2:r=o.sent(),o.label=3;case 3:return n=r,e&&e!==n?((0,c.writeVal)({key:a.KWAI_TEST_ID,val:e}),[4,(0,s.setCookieByName)({name:a.KWAI_TEST_ID,value:e,seconds:1800})]):[3,5];case 4:o.sent(),o.label=5;case 5:return[2,"1"===String(e||n)];case 6:return d=o.sent(),(0,l.JSLogger)({error:d}),[2,!1];case 7:return[2]}}))}))}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerPlugin=void 0;var c=n(13),s=n(15),u=n(11),l=n(7),d=n(14),p=n(2),f=n(4),_=n(0),h=n(1),E=function(e){function t(t){var n=this,r=t.context,o=a(t,["context"]);return(n=e.call(this,r)||this).adInfoActionCache=[],n.needLogger=Math.random()<=.03,n.retryPixelIdsInGetConfig=[],n.logFMP=function(){var e;null===(e=n.radar)||void 0===e||e.fmp()},n.logger=function(e){var t,r;null===(t=n.radar)||void 0===t||t.event(e),null===(r=n.loggerService)||void 0===r||r.report(n.apiUrl,{name:e.name,extraInfo:e.extra_info})},n.JSLogger=function(e){var t,r;null===(t=n.radar)||void 0===t||t.event(e),null===(r=n.JSLoggerService)||void 0===r||r.report(n.apiUrl,{name:e.name,extraInfo:e.extra_info})},n.updateAdInfoAction=function(e){var t=e.eventName,r=e.clickId;n.adInfoActionCache.forEach((function(e){var o,a,c={name:e.name,extra_info:JSON.stringify(i(i(i({},n.generateCommonExtraInfo()),null!==(o=e.extra_info_obj)&&void 0!==o?o:{}),{eventName:t,clickId:r}))};null===(a=n.radar)||void 0===a||a.event(c),n.logger(c)})),n.adInfoActionCache=[]},n.logAdInfoAction=function(e){},n.logI18nCostAction=function(e){var t;null===(t=n.loggerCost)||void 0===t||t.report(n.apiUrl,{name:l.LOGGER_TYPES_NAME.I18N_AD_COST_LOG,extraInfo:JSON.stringify(i(i({},n.generateCommonExtraInfo()),e))})},n.logGetUrlByImage=function(e){n.logger({name:l.LOGGER_TYPES_NAME.GET_URL_BY_IMAGE,extra_info:JSON.stringify(i(i({},n.generateCommonExtraInfo()),e))})},n.logGetUrlByImageCSPError=function(e){n.logger({name:l.LOGGER_TYPES_NAME.GET_URL_BY_IMAGE,extra_info:JSON.stringify(i(i({},n.generateCommonExtraInfo()),e))})},n.logRetryPixelIdInGetPixelConfig=function(e){n.retryPixelIdsInGetConfig.push(e)},n.logI18nSuccessWithRetryAction=function(e,t){},n.logPreviewReport=function(e,t){var r,o;try{(null===(r=null==e?void 0:e.context)||void 0===r?void 0:r.trackFlag)&&(null===(o=n.rawRadar)||void 0===o||o.event(t))}catch(e){(0,h.JSLogger)({error:e})}},n.init(o),n.loggerService=n.needLogger?new d.HttpLoggerService:void 0,n.loggerCost=new d.HttpLoggerService,n.JSLoggerService=h.JSLoggerServer,n.apiUrl=f.API.LOGGER,(0,h.setLogger)({api:n.JSLogger.bind(n)}),n}return o(t,e),t.prototype.init=function(e){var t=e.radar;t&&(this.radar=Math.random()<=.1?t:void 0,this.rawRadar=t)},t.prototype.contextInitStart=function(){},t.prototype.generateCommonExtraInfo=function(){return{isPixelAD:(0,u.isPixelAD)(),isInWebView:(0,u.isInWebView)(),isPreload:(0,s.getIsPreload)(),_version:p.SDK_VERSION,currentHref:null===_.windowSnapshot||void 0===_.windowSnapshot?void 0:_.windowSnapshot.location.href}},t}(c.Plugin);t.LoggerPlugin=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpService=t.HttpService=void 0;var r=n(0),o=n(1),i=function(){function e(){}return e.prototype.sendBeacon=function(e,t){try{if(null===r.windowSnapshot||void 0===r.windowSnapshot?void 0:r.windowSnapshot.navigator.sendBeacon)return r.windowSnapshot.navigator.sendBeacon(e,new Blob([JSON.stringify(t)],{type:"application/json"}))}catch(e){(0,o.JSLogger)({error:e,funcName:"sendBeacon"})}return!1},e}();t.HttpService=i,t.httpService=new i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FINGERPRINT_BLACK_LIST_KEY=t.FINGERPRINT_COOKIE_ID=void 0,t.FINGERPRINT_COOKIE_ID="_k_cp",t.FINGERPRINT_BLACK_LIST_KEY="mfbl"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(83),o=n(1),i=n(5);!function(){try{var e=(0,i.getWorkspace)();if(e.initialize){var t=e.context;t.usePlugin({name:"checkPixel",plugin:new r.FingerprintPlugin({context:t})})}}catch(e){(0,o.JSLogger)({error:e,funcName:"initCheckPixel"})}}()},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FingerprintPlugin=void 0;var s=n(13),u=n(18),l=n(5),d=n(8),p=n(84),f=n(33),_=n(1),h=n(4),E=n(6),v=function(e){function t(t){var n=t.context,r=e.call(this,n)||this;return r.isCompressSendSuccess=!1,r.initTime=+new Date,r.endTime=-1,r.getFingerprint(),r}return o(t,e),t.prototype.getFingerprint=function(){return a(this,void 0,void 0,(function(){var e,t,n,r,o,a,s,d,f,v,g,y,S,I=this;return c(this,(function(c){t=+new Date;try{t=+new Date}catch(t){e=t}finally{this.endTime=+new Date}return i(i({},undefined),{timeOfGet:this.endTime-t,timeBetweenInitAndGet:this.endTime-this.initTime}),n=this.context.data,r=n.adInfo,o=n.pageSign,a=n.libVersion,d=(s=null!=r?r:{}).callback,f=void 0===d?"":d,v=s.pixelId,g=void 0===v?"":v,y=(null!=o?o:{}).sessionId,S=void 0===y?"":y,this.params={data:"{}",extraInfo:{clickid:f,pixelId:g,pixelSdkVersion:a,pluginVersion:"1.1.0",error:null!=e?e:"",pixelExtData:JSON.stringify({kwaiInfo:{currentHref:window.location.href},pixelIds:(0,l.getPixelIdsFromWorkspace)().join(","),sessionId:(0,u.addSuffixIfExist)(null!=S?S:"",g)})}},this.isCompressSendSuccess||(0,p.sendCheckPixelAction)(this.params).then((function(e){I.isCompressSendSuccess=e,e?I.setCookie():(0,_.APILogger)({apiPath:h.API[h.REPORT_TYPE.CHECK_PIXEL_COMPRESS],actionStatus:E.ActionStatus.NOT_VALID_API_RETURNS,error:"status !== 200"})})).catch((function(e){(0,_.APILogger)({apiPath:h.API[h.REPORT_TYPE.CHECK_PIXEL_COMPRESS],actionStatus:E.ActionStatus.NOT_VALID_API_RETURNS,error:e})})),[2]}))}))},t.prototype.isCollectEnd=function(){return this.endTime>0},t.prototype.visibilityChange=function(e,t){var n=this;t||this.isCompressSendSuccess||!this.isCollectEnd()||(0,p.sendCheckPixelAction)(this.params).then((function(e){n.isCompressSendSuccess=e,e&&n.setCookie()}))},t.prototype.pageWillLeave=function(){var e=this;!this.isCompressSendSuccess&&this.isCollectEnd()&&(0,p.sendCheckPixelAction)(this.params).then((function(t){t?e.setCookie():(0,_.APILogger)({apiPath:h.API[h.REPORT_TYPE.CHECK_PIXEL],actionStatus:E.ActionStatus.NOT_VALID_API_RETURNS,error:"status !== 200"})})).catch((function(e){(0,_.APILogger)({apiPath:h.API[h.REPORT_TYPE.CHECK_PIXEL],actionStatus:E.ActionStatus.ERROR,error:e})}))},t.prototype.setCookie=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){return(0,d.setCookieByName)({name:f.FINGERPRINT_COOKIE_ID,value:"1",seconds:86400}),[2]}))}))},t}(s.Plugin);t.FingerprintPlugin=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendCheckPixelAction=void 0;var r=n(4),o=n(31),i=n(9),a=r.API[r.REPORT_TYPE.CHECK_PIXEL];t.sendCheckPixelAction=function(e){return new Promise((function(t,n){try{var r=o.httpService.sendBeacon(a,e);t(r)}catch(r){i.xhrService.post(a,e,{async:!0,retry:2}).then((function(e){var r=e.status,o=e.err_msg;"200"!==String(r)&&n(o),t(!0)})).catch((function(e){n(e)}))}}))}}])}));